<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Solar System Explorer - 3D ìš°ì£¼ íƒí—˜</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: radial-gradient(ellipse at center, #1a1a2e 0%, #16213e 50%, #0f0f23 100%);
            overflow: hidden;
            color: white;
        }

        #gameContainer {
            position: relative;
            width: 100vw;
            height: 100vh;
        }

        #canvas {
            display: block;
            cursor: grab;
        }

        #canvas:active {
            cursor: grabbing;
        }

        .ui-panel {
            position: absolute;
            background: rgba(0, 20, 40, 0.9);
            border: 1px solid rgba(100, 200, 255, 0.3);
            border-radius: 10px;
            padding: 15px;
            backdrop-filter: blur(10px);
        }

        #controlPanel {
            top: 20px;
            left: 20px;
            width: 280px;
        }

        #infoPanel {
            top: 20px;
            right: 20px;
            width: 300px;
            max-height: 400px;
            overflow-y: auto;
        }

        #educationPanel {
            bottom: 20px;
            left: 20px;
            width: 350px;
        }

        .control-group {
            margin-bottom: 15px;
        }

        .control-group label {
            display: block;
            margin-bottom: 5px;
            color: #87ceeb;
            font-size: 14px;
        }

        .slider {
            width: 100%;
            height: 6px;
            border-radius: 3px;
            background: #333;
            outline: none;
            -webkit-appearance: none;
        }

        .slider::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 16px;
            height: 16px;
            border-radius: 50%;
            background: #4CAF50;
            cursor: pointer;
        }

        .button {
            background: linear-gradient(45deg, #4CAF50, #45a049);
            border: none;
            color: white;
            padding: 8px 16px;
            border-radius: 5px;
            cursor: pointer;
            margin: 5px;
            font-size: 12px;
            transition: all 0.3s;
        }

        .button:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(76, 175, 80, 0.3);
        }

        .planet-info {
            margin-bottom: 10px;
            padding: 10px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 5px;
        }

        .planet-name {
            font-weight: bold;
            color: #87ceeb;
            margin-bottom: 5px;
        }

        .distance-info {
            font-size: 12px;
            color: #ccc;
        }

        #stars {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
        }

        .educational-content {
            font-size: 13px;
            line-height: 1.4;
        }

        .physics-fact {
            background: rgba(255, 215, 0, 0.1);
            border-left: 3px solid #ffd700;
            padding: 8px;
            margin: 8px 0;
            border-radius: 3px;
        }
    </style>
</head>
<body>
    <div id="gameContainer">
        <canvas id="stars"></canvas>
        <canvas id="canvas"></canvas>
        
        <div id="controlPanel" class="ui-panel">
            <h3 style="color: #87ceeb; margin-bottom: 15px;">ğŸš€ íƒí—˜ ì»¨íŠ¸ë¡¤</h3>
            
            <div class="control-group">
                <label>ì‹œê°„ ì†ë„</label>
                <input type="range" id="timeSpeed" class="slider" min="0" max="10" value="1" step="0.1">
                <span id="timeSpeedValue">1x</span>
            </div>
            
            <div class="control-group">
                <label>ì¤Œ ë ˆë²¨</label>
                <input type="range" id="zoomLevel" class="slider" min="0.1" max="3" value="1" step="0.1">
                <span id="zoomValue">1x</span>
            </div>
            
            <div class="control-group">
                <button class="button" onclick="focusOnPlanet('earth')">ğŸŒ ì§€êµ¬</button>
                <button class="button" onclick="focusOnPlanet('moon')">ğŸŒ™ ë‹¬</button>
                <button class="button" onclick="focusOnPlanet('mars')">ğŸ”´ í™”ì„±</button>
            </div>
            
            <div class="control-group">
                <button class="button" onclick="toggleOrbits()">ê¶¤ë„ í‘œì‹œ</button>
                <button class="button" onclick="togglePhysics()">ë¬¼ë¦¬í•™ ëª¨ë“œ</button>
            </div>
        </div>

        <div id="infoPanel" class="ui-panel">
            <h3 style="color: #87ceeb; margin-bottom: 15px;">ğŸ“Š ì²œì²´ ì •ë³´</h3>
            <div id="planetInfo"></div>
        </div>

        <div id="educationPanel" class="ui-panel">
            <h3 style="color: #87ceeb; margin-bottom: 15px;">ğŸ“ êµìœ¡ ì •ë³´</h3>
            <div id="educationContent" class="educational-content">
                <div class="physics-fact">
                    <strong>ê¶¤ë„ ì—­í•™:</strong> ì²œì²´ë“¤ì€ ì¤‘ë ¥ì— ì˜í•´ íƒ€ì› ê¶¤ë„ë¥¼ ê·¸ë¦¬ë©° ì›€ì§ì…ë‹ˆë‹¤.
                </div>
                <p>ë§ˆìš°ìŠ¤ë¡œ ë“œë˜ê·¸í•˜ì—¬ ì‹œì ì„ íšŒì „í•˜ê³ , íœ ë¡œ ì¤Œì„ ì¡°ì ˆí•˜ì„¸ìš”!</p>
            </div>
        </div>
    </div>

    <script>
        // ìº”ë²„ìŠ¤ ì„¤ì •
        const canvas = document.getElementById('canvas');
        const ctx = canvas.getContext('2d');
        const starsCanvas = document.getElementById('stars');
        const starsCtx = starsCanvas.getContext('2d');

        function resizeCanvas() {
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;
            starsCanvas.width = window.innerWidth;
            starsCanvas.height = window.innerHeight;
            drawStars();
        }

        resizeCanvas();
        window.addEventListener('resize', resizeCanvas);

        // ë³„ ë°°ê²½ ìƒì„±
        function drawStars() {
            starsCtx.fillStyle = 'white';
            for (let i = 0; i < 200; i++) {
                const x = Math.random() * starsCanvas.width;
                const y = Math.random() * starsCanvas.height;
                const size = Math.random() * 2;
                starsCtx.beginPath();
                starsCtx.arc(x, y, size, 0, Math.PI * 2);
                starsCtx.fill();
            }
        }

        // ê²Œì„ ìƒíƒœ
        let camera = {
            x: canvas.width / 2,
            y: canvas.height / 2,
            rotation: 0,
            zoom: 1
        };

        let timeSpeed = 1;
        let showOrbits = true;
        let physicsMode = false;
        let time = 0;

        // ì²œì²´ ë°ì´í„°
        const celestialBodies = {
            earth: {
                name: 'ì§€êµ¬',
                x: 0,
                y: 0,
                radius: 20,
                color: '#4A90E2',
                orbitRadius: 0,
                orbitSpeed: 0,
                mass: 5.972e24,
                realRadius: 6371,
                description: 'ìš°ë¦¬ê°€ ì‚´ê³  ìˆëŠ” í–‰ì„±'
            },
            moon: {
                name: 'ë‹¬',
                x: 0,
                y: 0,
                radius: 8,
                color: '#C0C0C0',
                orbitRadius: 80,
                orbitSpeed: 0.05,
                mass: 7.342e22,
                realRadius: 1737,
                description: 'ì§€êµ¬ì˜ ìì—° ìœ„ì„±'
            },
            mars: {
                name: 'í™”ì„±',
                x: 0,
                y: 0,
                radius: 15,
                color: '#CD5C5C',
                orbitRadius: 200,
                orbitSpeed: 0.02,
                mass: 6.39e23,
                realRadius: 3390,
                description: 'ë¶‰ì€ í–‰ì„±ìœ¼ë¡œ ë¶ˆë¦¬ëŠ” 4ë²ˆì§¸ í–‰ì„±'
            }
        };

        // ë§ˆìš°ìŠ¤ ì»¨íŠ¸ë¡¤
        let isDragging = false;
        let lastMouseX = 0;
        let lastMouseY = 0;

        canvas.addEventListener('mousedown', (e) => {
            isDragging = true;
            lastMouseX = e.clientX;
            lastMouseY = e.clientY;
        });

        canvas.addEventListener('mousemove', (e) => {
            if (isDragging) {
                const deltaX = e.clientX - lastMouseX;
                const deltaY = e.clientY - lastMouseY;
                
                camera.x += deltaX;
                camera.y += deltaY;
                
                lastMouseX = e.clientX;
                lastMouseY = e.clientY;
            }
        });

        canvas.addEventListener('mouseup', () => {
            isDragging = false;
        });

        canvas.addEventListener('wheel', (e) => {
            e.preventDefault();
            const zoomFactor = e.deltaY > 0 ? 0.9 : 1.1;
            camera.zoom = Math.max(0.1, Math.min(3, camera.zoom * zoomFactor));
            document.getElementById('zoomLevel').value = camera.zoom;
            document.getElementById('zoomValue').textContent = camera.zoom.toFixed(1) + 'x';
        });

        // UI ì»¨íŠ¸ë¡¤
        document.getElementById('timeSpeed').addEventListener('input', (e) => {
            timeSpeed = parseFloat(e.target.value);
            document.getElementById('timeSpeedValue').textContent = timeSpeed.toFixed(1) + 'x';
        });

        document.getElementById('zoomLevel').addEventListener('input', (e) => {
            camera.zoom = parseFloat(e.target.value);
            document.getElementById('zoomValue').textContent = camera.zoom.toFixed(1) + 'x';
        });

        function focusOnPlanet(planetKey) {
            const planet = celestialBodies[planetKey];
            camera.x = canvas.width / 2 - planet.x * camera.zoom;
            camera.y = canvas.height / 2 - planet.y * camera.zoom;
            
            updateEducationContent(planetKey);
        }

        function toggleOrbits() {
            showOrbits = !showOrbits;
        }

        function togglePhysics() {
            physicsMode = !physicsMode;
            updateEducationContent(physicsMode ? 'physics' : 'general');
        }

        function updateEducationContent(topic) {
            const content = document.getElementById('educationContent');
            
            const educationData = {
                earth: `
                    <div class="physics-fact">
                        <strong>ì§€êµ¬:</strong> ì§€ë¦„ 12,742km, ì§ˆëŸ‰ 5.97Ã—10Â²â´kg
                    </div>
                    <p>ì§€êµ¬ëŠ” íƒœì–‘ìœ¼ë¡œë¶€í„° ì•½ 1ì–µ 5ì²œë§Œkm ë–¨ì–´ì ¸ ìˆìœ¼ë©°, í•˜ë£¨ì— í•œ ë²ˆ ìì „í•©ë‹ˆë‹¤.</p>
                    <p><strong>ì¤‘ë ¥:</strong> 9.8m/sÂ² - ëª¨ë“  ë¬¼ì²´ë¥¼ ì§€êµ¬ ì¤‘ì‹¬ìœ¼ë¡œ ëŒì–´ë‹¹ê¹ë‹ˆë‹¤.</p>
                `,
                moon: `
                    <div class="physics-fact">
                        <strong>ë‹¬:</strong> ì§€ë¦„ 3,474km, ì§€êµ¬ë¡œë¶€í„° 384,400km
                    </div>
                    <p>ë‹¬ì€ ì§€êµ¬ ì£¼ìœ„ë¥¼ 27.3ì¼ì— í•œ ë²ˆ ê³µì „í•˜ë©°, ì¡°ì„ í˜„ìƒì˜ ì£¼ìš” ì›ì¸ì…ë‹ˆë‹¤.</p>
                    <p><strong>ê¶¤ë„ ì†ë„:</strong> ì•½ 1km/së¡œ ì§€êµ¬ ì£¼ìœ„ë¥¼ ë•ë‹ˆë‹¤.</p>
                `,
                mars: `
                    <div class="physics-fact">
                        <strong>í™”ì„±:</strong> ì§€ë¦„ 6,779km, ì§€êµ¬ë¡œë¶€í„° 5,460ë§Œ~4ì–µkm
                    </div>
                    <p>í™”ì„±ì€ 687ì¼ì— í•œ ë²ˆ íƒœì–‘ì„ ê³µì „í•˜ë©°, í•˜ë£¨ëŠ” ì§€êµ¬ì™€ ë¹„ìŠ·í•œ 24ì‹œê°„ 37ë¶„ì…ë‹ˆë‹¤.</p>
                    <p><strong>ì¤‘ë ¥:</strong> ì§€êµ¬ì˜ 38% (3.7m/sÂ²)</p>
                `,
                physics: `
                    <div class="physics-fact">
                        <strong>ì¼€í”ŒëŸ¬ ë²•ì¹™:</strong> í–‰ì„±ì˜ ê¶¤ë„ëŠ” íƒ€ì›í˜•ì´ë©°, íƒœì–‘ì— ê°€ê¹Œìš¸ìˆ˜ë¡ ë¹¨ë¼ì§‘ë‹ˆë‹¤.
                    </div>
                    <p><strong>ë§Œìœ ì¸ë ¥:</strong> F = G(mâ‚mâ‚‚)/rÂ² - ì§ˆëŸ‰ì´ í´ìˆ˜ë¡, ê±°ë¦¬ê°€ ê°€ê¹Œìš¸ìˆ˜ë¡ ê°•í•œ ì¤‘ë ¥</p>
                    <p><strong>ì›ì‹¬ë ¥:</strong> ê¶¤ë„ ìš´ë™í•˜ëŠ” ì²œì²´ê°€ ì§ì„ ìœ¼ë¡œ ë‚ ì•„ê°€ì§€ ì•Šê²Œ í•˜ëŠ” í˜</p>
                `,
                general: `
                    <div class="physics-fact">
                        <strong>ê¶¤ë„ ì—­í•™:</strong> ì²œì²´ë“¤ì€ ì¤‘ë ¥ì— ì˜í•´ íƒ€ì› ê¶¤ë„ë¥¼ ê·¸ë¦¬ë©° ì›€ì§ì…ë‹ˆë‹¤.
                    </div>
                    <p>ë§ˆìš°ìŠ¤ë¡œ ë“œë˜ê·¸í•˜ì—¬ ì‹œì ì„ íšŒì „í•˜ê³ , íœ ë¡œ ì¤Œì„ ì¡°ì ˆí•˜ì„¸ìš”!</p>
                `
            };
            
            content.innerHTML = educationData[topic] || educationData.general;
        }

        function updatePlanetInfo() {
            const infoDiv = document.getElementById('planetInfo');
            let html = '';
            
            Object.entries(celestialBodies).forEach(([key, body]) => {
                const earthDistance = key === 'earth' ? 0 : 
                    Math.sqrt((body.x - celestialBodies.earth.x) ** 2 + (body.y - celestialBodies.earth.y) ** 2);
                const realDistance = earthDistance * 4800; // ìŠ¤ì¼€ì¼ ì¡°ì •
                
                html += `
                    <div class="planet-info">
                        <div class="planet-name">${body.name}</div>
                        <div class="distance-info">
                            ${key === 'earth' ? 'ê¸°ì¤€ì ' : `ì§€êµ¬ë¡œë¶€í„°: ${realDistance.toLocaleString()}km`}
                        </div>
                        <div class="distance-info">
                            ë°˜ì§€ë¦„: ${body.realRadius.toLocaleString()}km
                        </div>
                    </div>
                `;
            });
            
            infoDiv.innerHTML = html;
        }

        function updatePositions() {
            time += timeSpeed * 0.016; // 60fps ê¸°ì¤€
            
            // ì§€êµ¬ëŠ” ì¤‘ì‹¬ì— ê³ ì •
            celestialBodies.earth.x = 0;
            celestialBodies.earth.y = 0;
            
            // ë‹¬ì˜ ìœ„ì¹˜ (ì§€êµ¬ ì£¼ìœ„ ê³µì „)
            celestialBodies.moon.x = Math.cos(time * celestialBodies.moon.orbitSpeed) * celestialBodies.moon.orbitRadius;
            celestialBodies.moon.y = Math.sin(time * celestialBodies.moon.orbitSpeed) * celestialBodies.moon.orbitRadius;
            
            // í™”ì„±ì˜ ìœ„ì¹˜ (íƒœì–‘ ì£¼ìœ„ ê³µì „, ì—¬ê¸°ì„œëŠ” ì§€êµ¬ ê¸°ì¤€ìœ¼ë¡œ ë‹¨ìˆœí™”)
            celestialBodies.mars.x = Math.cos(time * celestialBodies.mars.orbitSpeed) * celestialBodies.mars.orbitRadius;
            celestialBodies.mars.y = Math.sin(time * celestialBodies.mars.orbitSpeed) * celestialBodies.mars.orbitRadius;
        }

        function draw() {
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            
            ctx.save();
            ctx.translate(camera.x, camera.y);
            ctx.scale(camera.zoom, camera.zoom);
            
            // ê¶¤ë„ ê·¸ë¦¬ê¸°
            if (showOrbits) {
                ctx.strokeStyle = 'rgba(255, 255, 255, 0.3)';
                ctx.lineWidth = 1 / camera.zoom;
                
                // ë‹¬ ê¶¤ë„
                ctx.beginPath();
                ctx.arc(0, 0, celestialBodies.moon.orbitRadius, 0, Math.PI * 2);
                ctx.stroke();
                
                // í™”ì„± ê¶¤ë„
                ctx.beginPath();
                ctx.arc(0, 0, celestialBodies.mars.orbitRadius, 0, Math.PI * 2);
                ctx.stroke();
            }
            
            // ì²œì²´ ê·¸ë¦¬ê¸°
            Object.entries(celestialBodies).forEach(([key, body]) => {
                ctx.fillStyle = body.color;
                ctx.beginPath();
                ctx.arc(body.x, body.y, body.radius, 0, Math.PI * 2);
                ctx.fill();
                
                // ê·¸ë¦¼ì íš¨ê³¼
                const gradient = ctx.createRadialGradient(
                    body.x - body.radius/3, body.y - body.radius/3, 0,
                    body.x, body.y, body.radius
                );
                gradient.addColorStop(0, body.color);
                gradient.addColorStop(1, 'rgba(0,0,0,0.3)');
                ctx.fillStyle = gradient;
                ctx.fill();
                
                // ì´ë¦„ í‘œì‹œ
                ctx.fillStyle = 'white';
                ctx.font = `${12 / camera.zoom}px Arial`;
                ctx.textAlign = 'center';
                ctx.fillText(body.name, body.x, body.y + body.radius + 15 / camera.zoom);
            });
            
            ctx.restore();
        }

        function gameLoop() {
            updatePositions();
            draw();
            updatePlanetInfo();
            requestAnimationFrame(gameLoop);
        }

        // ê²Œì„ ì‹œì‘
        drawStars();
        gameLoop();
    </script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'98408287c76dde66',t:'MTc1ODY5ODMyOC4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
